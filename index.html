<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Farleigh County Roleplay Community</title>
  <link rel="icon" href="images/logo.png" />
  <meta name="description" content="Farleigh County Roleplay — immersive, realistic RP community." />
  <style>
    /* ===== Base / Reset ===== */
    :root{
      --bg-dark:#061025;
      --bg-alt:#08132a;
      --accent1:#ff8a00; /* orange */
      --accent2:#2b6bff; /* pale-darkish blue */
      --glass: rgba(255,255,255,0.04);
      --muted: rgba(255,255,255,0.6);
      --card: rgba(255,255,255,0.03);
      --radius: 14px;
      --blur: 18px;
      --maxwidth: 1200px;
      --glass-border: rgba(255,255,255,0.06);
      --text-glow: 0 8px 30px rgba(59,130,246,0.08);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      min-height:100vh;
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(1000px 1000px at 10% 10%, rgba(43,107,255,0.06), transparent),
                  linear-gradient(120deg, #02040a 0%, #071124 40%, #000000 100%);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-y:auto;
      transition: background 0.3s, color 0.3s;
    }

    body.light {
      background: #fdfdfd;
      color:#07203a;
    }

    /* Animated background gradient layers */
    .bg-anim{
      position:fixed; inset:0; z-index:-2;
      background: conic-gradient(from 180deg at 50% 50%, #071124, #021028, #0b1b3a, #071124);
      opacity:0.55; filter:blur(60px);
      animation:spin 30s linear infinite;
      transform-origin:center;
      pointer-events:none;
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    /* container */
    .wrap{ max-width:var(--maxwidth); margin:28px auto; padding:18px; }

    /* Header / nav */
    header.site-header{
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      padding:12px 18px;
      display:flex; align-items:center; gap:18px;
    }
    .brand{ display:flex; align-items:center; gap:12px; }
    .brand img{ width:56px; height:56px; border-radius:10px; object-fit:contain; }
    .brand h1{ font-size:18px; letter-spacing:0.6px; margin-bottom:-2px; text-shadow: 0 6px 22px rgba(255,138,0,0.06); }
    .brand p{ font-size:12px; color:var(--muted) }

    nav.main-nav{ margin-left:12px; display:flex; gap:10px; align-items:center; flex:1 }
    nav.main-nav a{
      color:#cfe7ff; text-decoration:none; padding:8px 12px; border-radius:8px; font-weight:600; font-size:14px;
      transition: all .18s ease;
    }
    nav.main-nav a:hover{ background:linear-gradient(90deg, rgba(255,138,0,0.08), rgba(43,107,255,0.06)); transform:translateY(-2px) }

    /* More dropdown */
    .more{ position:relative; }
    .more .dropdown{
      position:absolute; top:44px; left:0; min-width:220px; background:var(--card);
      border-radius:10px; padding:8px; border:1px solid var(--glass-border);
      box-shadow: 0 8px 40px rgba(2,6,23,0.6); display:none; backdrop-filter: blur(8px);
    }
    .more:hover .dropdown{ display:block; }
    .dropdown a{ display:block; padding:10px; color:#dbeeff; text-decoration:none; border-radius:8px; font-size:14px }
    .dropdown a:hover{ background:rgba(255,255,255,0.02) }

    .controls{ display:flex; gap:12px; align-items:center }
    .btn-discord{
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      color:#021028; font-weight:800; padding:8px 14px; border-radius:10px; border:none; box-shadow:var(--text-glow);
      cursor:pointer; text-decoration:none;
    }
    .toggle{ width:46px; height:28px; background:rgba(255,255,255,0.03); border-radius:20px; padding:4px;
      display:flex; align-items:center; gap:6px; border:1px solid rgba(255,255,255,0.04); cursor:pointer }
    .toggle .dot{ width:18px; height:18px; background:#fff;border-radius:50%; box-shadow:0 6px 18px rgba(43,107,255,0.08) }

    /* (other CSS unchanged for brevity) */
  </style>
</head>
<body>
  <div class="bg-anim" aria-hidden="true"></div>

  <div class="wrap">
    <!-- HEADER (unchanged except Apps link fixed) -->
    <header class="site-header">
      <div class="brand">
        <img src="images/logo.png" alt="FCRC logo">
        <div>
          <h1>Farleigh County Roleplay</h1>
          <p>Realism • Integrity • Immersion</p>
        </div>
      </div>
      <nav class="main-nav" aria-label="Main navigation">
        <a href="index.html">Home</a>
        <a href="about_us.html">About</a>
        <a href="rules.html">Rules</a>
        <a href="announcements.html">Announcements</a>
        <a href="social_media.html">Social</a>
        <a href="faq.html">FAQ</a>
        <div class="more">
          <a href="#">More ▾</a>
          <div class="dropdown">
            <a href="store.html">Store</a>
            <a href="ownership.html">Ownership</a>
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSebcHzw4gd8Ec5rLVa4i7kGgOrLHHqnMWFrpkMaP30YzCB8aw/viewform?usp=sharing&ouid=100521486573525812908" target="_blank">Applications</a>
            <a href="chain_of_command.html">Chain of Command</a>
            <a href="merch.html">Merch</a>
          </div>
        </div>
      </nav>
      <div class="controls">
        <a class="btn-discord" href="https://discord.gg/KzUYBUUzMr" target="_blank">Join Discord</a>
        <div class="toggle" id="themeToggle"><div class="dot" id="toggleDot"></div></div>
      </div>
    </header>

    <!-- OWNERSHIP UPDATE -->
    <section class="card" style="margin-top:18px">
      <h3>Ownership Team</h3>
      <p><strong>Chairman:</strong> greyvader0512<br>
      <strong>Deputy Chairman:</strong> ahmetfpsz_<br>
      <strong>Assistant Chairmen:</strong> Grandpa Joey & Problemfoxking2<br>
      <strong>Senior Foundation Members:</strong> chunkmonster199 & youknowmeyoukno</p>
    </section>

    <!-- DEPARTMENTS UPDATE -->
    <section style="margin-top:18px">
      <h3 style="margin-bottom:12px">Departments</h3>
      <div class="departments">
        <div class="dept-card"><h4>Farleigh City Police Service (FCPS)</h4></div>
        <div class="dept-card"><h4>Maddison Police Service (MPS)</h4></div>
        <div class="dept-card"><h4>Harlsborough Police Service (HPS)</h4></div>
        <div class="dept-card"><h4>Farleigh County Sheriff’s Service (FCSS)</h4></div>
        <div class="dept-card"><h4>RCMP</h4></div>
        <div class="dept-card"><h4>Farleigh County Fire Service (FCFS)</h4></div>
        <div class="dept-card"><h4>Farleigh County Paramedic Association (FCPA)</h4></div>
        <div class="dept-card"><h4>Saskatchewan Ministry Of Highways (SMOH)</h4></div>
      </div>
      <p style="margin-top:12px; color:var(--muted)">View Civilian Operations & other departments in our server!</p>
    </section>

    <!-- FOOTER unchanged -->
    <footer class="site-footer">
      <div><img src="images/logo.png" alt="logo" style="height:20px"> <span class="small">© FCRC 2025 — All rights reserved</span></div>
    </footer>
  </div>

  <script>
    // THEME TOGGLE FIX
    (function(){
      const toggle = document.getElementById('themeToggle');
      const dot = document.getElementById('toggleDot');
      const current = localStorage.getItem('fcrc-theme') || 'dark';
      if(current==='light'){ document.body.classList.add('light'); dot.style.background='#021028'; }
      toggle.addEventListener('click', ()=>{
        if(document.body.classList.contains('light')){
          document.body.classList.remove('light'); dot.style.background='#fff';
          localStorage.setItem('fcrc-theme','dark');
        } else {
          document.body.classList.add('light'); dot.style.background='#021028';
          localStorage.setItem('fcrc-theme','light');
        }
      });
    })();

    // DISCORD WIDGET same as before
    async function loadDiscordWidget(){
      const el=document.getElementById('discordWidget');
      try{
        const res=await fetch('https://discord.com/api/guilds/1397615724142268608/widget.json');
        if(!res.ok) throw new Error();
        const data=await res.json();
        el.innerHTML=`<strong>${data.name}</strong><div>${data.presence_count} online</div>`;
      }catch{ el.innerHTML='<iframe src="https://discord.com/widget?id=1397615724142268608&theme=dark" width="100%" height="200" frameborder="0"></iframe>'; }
    }
    loadDiscordWidget();

    // EVENTS FETCH (mirroring)
    (async function(){
      const eventsEl=document.getElementById('eventsArea');
      const EVENTS_JSON=''; // TODO: set up webhook -> JSON
      if(!EVENTS_JSON){ eventsEl.innerText='No events mirrored yet.'; return; }
      try{
        const r=await fetch(EVENTS_JSON); const j=await r.json();
        const cutoff=Date.now()-7*24*60*60*1000;
        eventsEl.innerHTML=j.filter(m=>new Date(m.timestamp).getTime()>cutoff)
          .map(m=>`<div><strong>${m.title||'Event'}</strong><div>${m.body||m.message}</div></div>`).join('');
      }catch{ eventsEl.innerText='Unable to load events.'; }
    })();

    // ANNOUNCEMENTS FETCH
    (async function(){
      const announcementsEl=document.getElementById('announcements');
      const ANNOUNCE_JSON=''; // TODO: set up webhook -> JSON
      if(!ANNOUNCE_JSON){ announcementsEl.innerText='No announcements mirrored yet.'; return; }
      try{
        const r=await fetch(ANNOUNCE_JSON); const j=await r.json();
        const cutoff=Date.now()-10.5*24*60*60*1000;
        announcementsEl.innerHTML=j.filter(m=>new Date(m.timestamp).getTime()>cutoff)
          .map(a=>`<div><strong>${a.title||'Announcement'}</strong><div>${a.body||a.message}</div></div>`).join('');
      }catch{ announcementsEl.innerText='Unable to load announcements.'; }
    })();
  </script>
</body>
</html>
